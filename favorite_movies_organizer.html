<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Favorite Movies Organizer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

    <style>
        body {
            background-color: black;
            color: white;
            font-size: 18px;
        }

        #h1 {
            transform: translateY(20px);
            opacity: 0;
            transition: transform ease 0.8s;

        }

        #h1.load {
            transform: translateY(0px);
            opacity: 1;
        }

        .main-container {
            opacity: 0;
            transform: translateX(-120px);
        }

        .main-container.launch {
            opacity: 100;
            transform: translateX(0px);
            transition: transform linear 0.9s;
            max-width: 500px;
            margin: 20px auto;
            border-radius: 50px;
            box-shadow: 5px 5px 40px rgb(177, 17, 17);
        }

        .form-control:focus {
            box-shadow: none;
            outline: red;
            border: 3px solid rgb(177, 17, 17) !important;

        }

        @media screen and (max-width:768px) {
            .main-container {
                width: 90%;
                /* margin: 20px !important; */
            }

            .searchbar,
            .buttons {
                flex-direction: column;
                gap: 20px !important;
            }


        }
    </style>
</head>

<body>

    <div class="text-center p-4">
        <h1 class="fw-bold" id="h1" style="font-size: 50px;">Welcome to Favorite Movies Organizer</h1>
    </div>
    <div id="main-container" class="main-container p-5">
        <div class="searchbar d-flex gap-3 justify-content-center">
            <input type="text" name="name" id="name" class="form-control" autofocus>
            <button id="search" class="btn btn-outline-danger text-white" style="font-size: 20px;">Search</button>
        </div>
        <div class="list m-5 d-flex justify-content-center">
            <ul id="ul"></ul>
        </div>
        <div class="buttons d-flex gap-5 justify-content-center">
            <button id="add" class="btn btn-success text-white">Add Movie</button>
            <button id="remove" class="btn btn-danger text-white">Remove
                Movie</button>
        </div>
    </div>



    <script>
        let ul = document.getElementById("ul");
        let addBtn = document.getElementById("add");
        let removeBtn = document.getElementById("remove");
        let searchBtn = document.getElementById("search");
        let h1 = document.getElementById("h1");


        window.onload = function () {
            h1.classList.add("load");
            let main = document.getElementById("main-container").classList.add("launch")
        }


        let favorite_movies = [
            "Inception",
            "The Dark Knight",
            "Interstellar",
            "The Matrix",
            "Coco"
        ]

        displayMovies();
        function addMovies(movieName) {

            if (movieName) {
                favorite_movies.push(movieName);
                ul.innerHTML = "";
                displayMovies();
                console.log(`Movie name added successfully and total count is ${favorite_movies.length}`);
            }
            else {
                alert("Please Enter a Movie Name");
            }
        }

        function removeMovie(movieName) {
            let isPresent = false;
            for (let movie of favorite_movies) {
                if (movie === movieName) {
                    isPresent = true;
                    break;
                }
            }
            if (isPresent) {
                for (let i = 0; i < favorite_movies.length; i++) {
                    if (favorite_movies[i] === movieName) {
                        favorite_movies.splice(i, 1);
                        ul.innerHTML = "";
                        displayMovies();
                        console.log(`Movie removed successfully and total count is ${favorite_movies.length}`);
                    }
                };
            } else {
                alert("Please enter a valid movie name.");
            }

        }

        function displayMovies() {
            favorite_movies.forEach(movie => {
                console.log(movie);
                let li = document.createElement("li");
                li.textContent = movie;
                ul.appendChild(li);
            });
        }

        // function searchMovie(movieName) {
        //     let index = favorite_movies.findIndex(movie => movie === movieName);
        //     if (index !== -1) {
        //         alert(`Movie found in favorite list at index ${index}`);
        //         console.log(`Movie found in favorite list at index ${index}`);
        //     }
        //     else {
        //         alert("Movie not found.");
        //         console.log("Movie not found.");
        //     }

        // }

        function searchMovie() {
            let searchInput = document.getElementById("name").value.trim().toLowerCase();
            let index = favorite_movies.findIndex(movie => movie.toLowerCase() === searchInput);
            if (searchInput) {
                if (index !== -1) {
                    // favorite_movies[index].style.color = "red";
                    alert(`Movie found in favorite list at index ${index}`);
                    // console.log(`Movie found in favorite list at index ${index}`);
                }
                else {
                    alert("Movie not found.");
                    console.log("Movie not found.");
                }
            }
            else {
                alert("Please enter a movie name to search.")
            }
        }

        addBtn.addEventListener("click", () => {
            let movieName = prompt("Enter movie name: ");
            addMovies(movieName);
        })

        removeBtn.addEventListener("click", () => {
            let movieName = prompt("Enter movie name: ");
            removeMovie(movieName);
        })

        searchBtn.addEventListener("click", () => {
            // let movieName = prompt("Enter movie name: ");
            // searchMovie(movieName);
            searchMovie();
        })

    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>

</body>

</html>